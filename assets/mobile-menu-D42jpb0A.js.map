{"version":3,"file":"mobile-menu-D42jpb0A.js","sources":["../../src/js/mobile-menu.js"],"sourcesContent":["export function initMobileMenu() {\n  const refs = {\n    openModalBtn: document.querySelector('.burger-buttom'),\n    closeModalBtn: document.querySelector('[data-menu-close]'),\n    modal: document.querySelector('[data-menu]'),\n    menuContainer: document.querySelector('[data-menu] .menu-container'),\n  };\n\n  if (!refs.modal) return;\n\n  let isOpen = false;\n\n  const toggleModal = () => {\n    isOpen = !isOpen;\n    refs.modal.classList.toggle('is-open', isOpen);\n    document.body.classList.toggle('menu-open', isOpen);\n  };\n\n  if (refs.openModalBtn) {\n    refs.openModalBtn.addEventListener('click', toggleModal, { once: false });\n  }\n\n  if (refs.closeModalBtn) {\n    refs.closeModalBtn.addEventListener('click', toggleModal, { once: false });\n  }\n\n  refs.modal.addEventListener(\n    'click',\n    e => {\n      if (e.target === refs.modal) {\n        toggleModal();\n      }\n    },\n    { passive: true }\n  );\n\n  if (refs.menuContainer) {\n    refs.menuContainer.addEventListener(\n      'click',\n      e => {\n        const link = e.target.closest('a, button');\n        if (link && link.closest('[data-menu]')) {\n          toggleModal();\n        }\n      },\n      { passive: true }\n    );\n  } else {\n    refs.modal.addEventListener(\n      'click',\n      e => {\n        const link = e.target.closest('a, button');\n        if (\n          link &&\n          !e.target.closest('[data-menu-close]') &&\n          !e.target.closest('.burger-buttom')\n        ) {\n          toggleModal();\n        }\n      },\n      { passive: true }\n    );\n  }\n\n  let escTimeout;\n  const handleEsc = e => {\n    if (e.code === 'Escape' && isOpen) {\n      clearTimeout(escTimeout);\n      escTimeout = setTimeout(() => {\n        toggleModal();\n      }, 10);\n    }\n  };\n  document.addEventListener('keydown', handleEsc);\n\n  return {\n    cleanup: () => {\n      if (refs.openModalBtn)\n        refs.openModalBtn.removeEventListener('click', toggleModal);\n      if (refs.closeModalBtn)\n        refs.closeModalBtn.removeEventListener('click', toggleModal);\n      refs.modal.removeEventListener('click', toggleModal);\n      if (refs.menuContainer)\n        refs.menuContainer.removeEventListener('click', toggleModal);\n      document.removeEventListener('keydown', handleEsc);\n    },\n  };\n}\n"],"names":["initMobileMenu","refs","isOpen","toggleModal","e","link","escTimeout","handleEsc"],"mappings":"AAAO,SAASA,GAAiB,CAC/B,MAAMC,EAAO,CACX,aAAc,SAAS,cAAc,gBAAgB,EACrD,cAAe,SAAS,cAAc,mBAAmB,EACzD,MAAO,SAAS,cAAc,aAAa,EAC3C,cAAe,SAAS,cAAc,6BAA6B,CACvE,EAEE,GAAI,CAACA,EAAK,MAAO,OAEjB,IAAIC,EAAS,GAEb,MAAMC,EAAc,IAAM,CACxBD,EAAS,CAACA,EACVD,EAAK,MAAM,UAAU,OAAO,UAAWC,CAAM,EAC7C,SAAS,KAAK,UAAU,OAAO,YAAaA,CAAM,CACtD,EAEMD,EAAK,cACPA,EAAK,aAAa,iBAAiB,QAASE,EAAa,CAAE,KAAM,EAAK,CAAE,EAGtEF,EAAK,eACPA,EAAK,cAAc,iBAAiB,QAASE,EAAa,CAAE,KAAM,EAAK,CAAE,EAG3EF,EAAK,MAAM,iBACT,QACAG,GAAK,CACCA,EAAE,SAAWH,EAAK,OACpBE,GAEH,EACD,CAAE,QAAS,EAAM,CACrB,EAEMF,EAAK,cACPA,EAAK,cAAc,iBACjB,QACAG,GAAK,CACH,MAAMC,EAAOD,EAAE,OAAO,QAAQ,WAAW,EACrCC,GAAQA,EAAK,QAAQ,aAAa,GACpCF,GAEH,EACD,CAAE,QAAS,EAAM,CACvB,EAEIF,EAAK,MAAM,iBACT,QACAG,GAAK,CACUA,EAAE,OAAO,QAAQ,WAAW,GAGvC,CAACA,EAAE,OAAO,QAAQ,mBAAmB,GACrC,CAACA,EAAE,OAAO,QAAQ,gBAAgB,GAElCD,GAEH,EACD,CAAE,QAAS,EAAM,CACvB,EAGE,IAAIG,EACJ,MAAMC,EAAYH,GAAK,CACjBA,EAAE,OAAS,UAAYF,IACzB,aAAaI,CAAU,EACvBA,EAAa,WAAW,IAAM,CAC5BH,GACD,EAAE,EAAE,EAEX,EACE,gBAAS,iBAAiB,UAAWI,CAAS,EAEvC,CACL,QAAS,IAAM,CACTN,EAAK,cACPA,EAAK,aAAa,oBAAoB,QAASE,CAAW,EACxDF,EAAK,eACPA,EAAK,cAAc,oBAAoB,QAASE,CAAW,EAC7DF,EAAK,MAAM,oBAAoB,QAASE,CAAW,EAC/CF,EAAK,eACPA,EAAK,cAAc,oBAAoB,QAASE,CAAW,EAC7D,SAAS,oBAAoB,UAAWI,CAAS,CAClD,CACL,CACA"}